/* ... keep your existing CSS ... */

/* --- Crop Overlay and Box --- */
#photo-preview-wrapper {
    position: relative;
    /* ... */
    background: linear-gradient(135deg, #f4fcff 0%, #e2f7fa 100%);
}
.crop-overlay {
    position: absolute;
    inset: 0;
    background: rgba(33, 33, 50, 0.25);
    z-index: 2;
    pointer-events: none;
    transition: background 0.15s;
}
#crop-box {
    position: absolute;
    border: 2.5px dashed var(--accent);
    background: rgba(33, 150, 243, 0.09);
    cursor: move;
    z-index: 3;
    display: flex;
    transition: border 0.18s, background 0.18s, box-shadow 0.16s;
    box-shadow: 0 2px 8px #2196f342;
    outline: 2px solid transparent;
}
#crop-box.active, #crop-box:hover {
    border-color: var(--secondary);
    background: rgba(33, 150, 243, 0.14);
    outline: 2.5px solid var(--primary);
}
.crop-handle {
    width: 18px; height: 18px;
    background: #fff;
    border: 2.5px solid var(--primary);
    border-radius: 50%;
    position: absolute;
    z-index: 4;
    box-shadow: 0 2px 8px #2196f344;
    transition: border 0.14s, background 0.14s;
}
.crop-handle:hover, .crop-handle.active {
    background: var(--primary);
    border-color: var(--secondary);
}
.crop-handle.nw { left: -9px; top: -9px; cursor: nwse-resize; }
.crop-handle.n { left: 50%; top: -9px; transform: translateX(-50%); cursor: ns-resize; }
.crop-handle.ne { right: -9px; top: -9px; cursor: nesw-resize; }
.crop-handle.e { right: -9px; top: 50%; transform: translateY(-50%); cursor: ew-resize; }
.crop-handle.se { right: -9px; bottom: -9px; cursor: nwse-resize; }
.crop-handle.s { left: 50%; bottom: -9px; transform: translateX(-50%); cursor: ns-resize; }
.crop-handle.sw { left: -9px; bottom: -9px; cursor: nesw-resize; }
.crop-handle.w { left: -9px; top: 50%; transform: translateY(-50%); cursor: ew-resize; }

.crop-size-indicator {
    position: absolute;
    top: -28px;
    left: 50%;
    transform: translateX(-50%);
    background: #fff9;
    color: var(--primary);
    font-size: 0.95em;
    border-radius: 7px;
    padding: 1.5px 11px;
    box-shadow: 0 2px 8px #2196f322;
    z-index: 10;
    pointer-events: none;
    font-weight: 600;
}
@media (pointer: coarse) {
    .crop-handle { width: 26px; height: 26px; }
}
